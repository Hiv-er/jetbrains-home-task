## Initial thoughts and assumptions

1. Only UI tests will be taken into consideration
2. The system should be considered as a black-box
3. Test cases are quite high-level (since it's a home assignment and will not be used by anybody) and focus on testing functionality and not UI (buttons, colors, elements location, etc.)
4. For some test cases part of information for steps and expected results is derived from a common sense and not from any requirements or application itself (either because I couldn't find it in the documentation, or time constraints, or because I didn't want to delete/break test data which I can't re-create). In the real-world job assignment it obviously shouldn't be so.


## Test cases

### Merging teams

#### Pre-conditions
1. The user should be logged into their JetBrains Account and have the "organization admin" role.
2. There should be at least two existing teams in the organization to perform a team merge operation.

#### Positive test cases

| ID        | Title                                                                              | Steps                                                                                                                                                                                                                                                                         | Expected result                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| --------- | ---------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| MERGE-001 | Successful merge                                                                   | 1. Navigate to the "Administration" tab for the source team<br>2. Click the "Merge" button.<br>3. In the pop-up choose a team to merge into (destination team) and click the "Merge" button.                                                                                  | 1. The source team is deleted.<br>2. All licenses from the source team are transferred to the destination team.<br>3. All admins of the source team become admins of the destination team.<br>4. All bulk invitations created in the source team are transferred to the destination team, including the expired ones.<br>5. The AI Assistant access settings of the source team are ignored, and the same settings for the destination team stay unchanged after the merge. |
| MERGE-002 | License transfer                                                                   | 1. Add different number and types of licenses to the source and destination teams and write them down.<br>2. Merge teams as in MERGE-001.<br>3. Navigate to the destination team's license page.                                                                              | 1. The page contains the exact number and types of licenses from the source and destination teams combined                                                                                                                                                                                                                                                                                                                                                                  |
| MERGE-003 | Admin transfer                                                                     | 1. Add at least one unique and one the same team admin for each role (Administrator, Viewer, Reseller) to the source and destination teams.<br>2. Merge teams as in MERGE-001.<br>3. Navigate to the destination team's Administration page, the Team Administration section. | 1. The page contains admins from the source and destination teams.<br>2. There are no duplicate records.                                                                                                                                                                                                                                                                                                                                                                    |
| MERGE-004 | Bulk invitations transfer                                                          | 1. Add active and expired bulk invitations to the source and destination teams.<br>2. Merge teams as in MERGE-001.<br>3. Navigate to the destination team's Invitations page.                                                                                                 | 1. The page contains expired and active bulk invitations from the source and destination teams.                                                                                                                                                                                                                                                                                                                                                                             |
| MERGE-005 | AI Assistant access settings                                                       | 1. Add different AI Assistant access settings to the source and destination teams.<br>2. Merge teams as in MERGE-001.<br>3. Navigate to the destination team's "AI Assistant access settings" page.                                                                           | 1. The AI Assistant access settings of the source team are ignored, and the same settings for the destination team stay unchanged after the merge.                                                                                                                                                                                                                                                                                                                          |
| MERGE-006 | Merge a team with no licenses, admins and bulk invitations                         | 1. Create a source team with no licenses, admins and bulk invitations<br>2. Merge teams as in MERGE-001                                                                                                                                                                       | 1. The source team is deleted<br>2. Licenses, admins, bulk invitation and AI Assistant access settings of the destination team remain unchanged.                                                                                                                                                                                                                                                                                                                            |
| MERGE-007 | Merge a team into a destination team with no licenses, admins and bulk invitations | 1. Create a destination team with no licenses, admins and bulk invitations<br>2. Merge teams as in MERGE-001                                                                                                                                                                  | 1. The source team is deleted<br>2. Licenses, admins and bulk invitation of the source team are now merged into the destination team.<br>3. AI Assistant access settings of the destination team are remain unchanged                                                                                                                                                                                                                                                       |
| MERGE-008 | Merge teams with the same admins                                                   | 1. Make sure that admins in the source and destination teams are the same.<br>2. Merge teams as in MERGE-001                                                                                                                                                                  | 1. The source team is deleted.<br>2. There are no changes in the destination team's Administration page, the Team Administration section                                                                                                                                                                                                                                                                                                                                    |
| MERGE-009 | Large number of licenses, admins and bulk invitations                              | 1. Create a source team with large number of licenses, admins and bulk invitations.<br>2. Merge teams as in MERGE-001                                                                                                                                                         | 1. The source team is deleted.<br>2. The merge operation should complete within a reasonable time frame without any performance degradation or timeout errors. <br>3. All licenses, admins and bulk invitations should be transferred into the destination team.                                                                                                                                                                                                            |

#### Negative test cases

| ID        | Title                                                        | Steps                                                                                                                                                                                        | Expected result                                                                                                                                                              |
| --------- | ------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| MERGE-010 | Close the merge pop-up                                       | 1. Navigate to the "Administration" tab for the source team<br>2. Click the "Merge" button.<br>3. In the pop-up choose a team to merge into (destination team) and click the "Close" button. | 1. The source team and destination teams remain unchanged<br>2. The merge operation is cancelled                                                                             |
| MERGE-011 | No organization admin rights, but team admin/viewer/reseller | 1. Login as a user who is a team admin/viewer/reseller, but who doesn't have organization admin rights<br>2. Navigate to the "Administration" tab for the source team                        | 1. The "Merge" button should not be visible.                                                                                                                                 |
| MERGE-012 | Attempt to merge when there are no destination teams         | 1. Navigate to the "Administration" tab for the source team<br>2. Click the "Merge" button.<br>3. Check the "Merge" pop-up.                                                                  | 1. In the pop-up the "Merge" button is disabled <br>2. The red text "There is no team to merge into" is displayed<br>3. The dropdown with a team selection is not displayed. |
| MERGE-013 | Attempt to merge into itself                                 | 1. Navigate to the "Administration" tab for the source team<br>2. Click the "Merge" button.<br>3. Check the "Merge" pop-up.                                                                  | 1. User cannot choose the source team as a destination team, it's absent in the dropdown                                                                                     |


### User management (Administrator and Viewer roles only)

#### Pre-conditions
1. There are TEAM and TEAM_2 in the organization
2. TEAM has licenses
3. There are the following users:
   - ORG_ADMIN - the admin of the whole organization
   - TEAM_ADMIN - a user with admin role in the TEAM
   - TEAM_VIEWER - a user with viewer role in the TEAM

#### Positive test cases

| ID       | Title                                                       | Steps                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Expected result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| -------- | ----------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| USER-001 | Successful invite of a new admin by ORG_ADMIN               | 1. Login into JetBrains Account as ORG_ADMIN<br>2. Navigate to the "Administration" tab for the TEAM<br>3. Click the "Invite Administrator" button.<br>4. In the pop-up check the checkbox "I agree to give the permissions mentioned above to the new Administrator".<br>5. Copy an invite link from the text box in the pop-up.<br>6. In another browser/incognito mode navigate to this invite link and join the team using a new user credentials (login/registration may be required) | 1. The user successfully joined the TEAM and became a team administrator<br>2. The user is displayed in the "Administration" tab for the TEAM, section "Accounts in Team Administration", with the correct name, email and the role "Administrator"<br>3. The user has the following permissions:<br>- Purchase new licenses and upgrade existing ones<br>- Distribute licenses to end users<br>- Invite other administrators/viewers<br>- Change team users roles<br>- Delete users from the TEAM (including yourself) |
| USER-002 | Successful invite of a new viewer by ORG_ADMIN              | 1. Login into JetBrains Account as ORG_ADMIN<br>2. Navigate to the "Administration" tab for the TEAM<br>3. Click the "Invite Viewer" button.<br>4. In the pop-up check the checkbox "I agree to give the permissions mentioned above to the new Viewer".<br>5. Copy an invite link from the text box in the pop-up.<br>6. In another browser/incognito mode navigate to this invite link and join the team using a new user credentials (login/registration may be required)               | 1. The user successfully joined the TEAM and became a team viewer<br>2. The user is displayed in the "Administration" tab for the TEAM, section "Accounts in Team Administration", with the correct name, email and the role "Viewer"<br>3. The user has the following permissions:<br>- View all licenses<br><br><br>                                                                                                                                                                                                  |
| USER-003 | Successful invite of a new admin by TEAM_ADMIN              | Execute steps as in USER-001, but in the first step login into JetBrains Account as TEAM_ADMIN                                                                                                                                                                                                                                                                                                                                                                                             | As in USER-001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| USER-004 | Successful invite of a new viewer by TEAM_ADMIN             | Execute steps as in USER-002, but in the first step login into JetBrains Account as TEAM_ADMIN                                                                                                                                                                                                                                                                                                                                                                                             | As in USER-002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| USER-005 | Use an admin invitation when already viewer in the team<br> | In another browser/incognito mode navigate to an admin invitation link to the TEAM and try to join the team using the TEAM_VIEWER credentials (login may be required)<br><br>Post-steps:<br>Make TEAM_VIEWER again a viewer in the TEAM                                                                                                                                                                                                                                                    | 1. The message saying that TEAM_VIEWER now has admin rights is displayed <br>2. TEAM_VIEWER becomes an admin of the TEAM and has team admin rights                                                                                                                                                                                                                                                                                                                                                                      |
| USER-006 | Sending an admin invitation message by e-mail               | 1. Login into JetBrains Account as ORG_ADMIN<br>2. Navigate to the "Administration" tab for the TEAM<br>3. Click the "Invite Administrator" button.<br>4. In the pop-up check the checkbox "I agree to give the permissions mentioned above to the new Administrator".<br>5. In the pop-up click the "Go to email client" button.<br>                                                                                                                                                      | 1. The default email client is opened<br>2. Draft of a new email is created and filled with text from the text box in the browser pop-up, containing an invite link                                                                                                                                                                                                                                                                                                                                                     |
| USER-007 | Sending a viewer invitation message by e-mail               | 1. Login into JetBrains Account as ORG_ADMIN<br>2. Navigate to the "Administration" tab for the TEAM<br>3. Click the "Invite Viewer" button.<br>4. In the pop-up check the checkbox "I agree to give the permissions mentioned above to the new Viewer".<br>5. In the pop-up click the "Go to email client" button.<br>                                                                                                                                                                    | 1. The default email client is opened<br>2. Draft of a new email is created and filled with text from the text box in the browser pop-up, containing an invite link                                                                                                                                                                                                                                                                                                                                                     |
| USER-008 | TEAM_ADMIN permissions                                      | 1. Login into JetBrains Account as TEAM_ADMIN<br>2. Navigate to the TEAM<br>3. Verify team admin permissions                                                                                                                                                                                                                                                                                                                                                                               | The TEAM_ADMIN has the following permissions:<br><br>- Purchase new licenses and upgrade existing ones<br>- Distribute licenses to end users<br>- Invite other administrators/viewers<br>- Change team users roles<br>- Delete users from the TEAM (including yourself)<br><br>2. The TEAM_ADMIN cannot perform any org administrative action (for example merge teams).<br><br>P.S. It's quite high-level here, better to divide each permission into separate test and test properly                                  |
| USER-009 | TEAM_VIEWER permissions                                     | 1. Login into JetBrains Account as TEAM_VIEWER<br>2. Navigate to the TEAM<br>3. Verify team viewer permissions                                                                                                                                                                                                                                                                                                                                                                             | 1. The TEAM_VIEWER has the following permission:<br><br>-  View all licenses<br><br>2. The TEAM_VIEWER cannot perform any team or org administrative action.                                                                                                                                                                                                                                                                                                                                                            |
